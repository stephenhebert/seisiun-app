<script setup>
// TODO: "Loading" text
const props = defineProps({
  fillScalar : {
    type: Number,
    default: 1,
  },
})

const clipScale = computed(() => {
  return 2.08 - +props.fillScalar
})
</script>

<template>
  <svg 
    id="pint" 
    version="1.1" 
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 40.84 75.59"
  >
    <defs>
      <clipPath id="clipPath">
        <rect
          x="50"
          y="80"
          width="50"
          height="70"
        />
      </clipPath>
      <linearGradient
        id="fill-gradient"
        x2="0.35"
        y2="1"
      >
        <stop
          offset="0%"
          stop-color="var(--color-fill-top)"
        />
        <stop
          offset="100%"
          stop-color="var(--color-fill-bottom)"
        />
      </linearGradient>
    </defs>
    <g
      id="layer1"
      transform="translate(-53.746267,-74.649481)"
    >
      <path 
        id="backfill"
        style="fill:#ffffff;stroke-width:0.264583"
        d="m 88.160152,146.38136 c 2.54692,-2.42199 -0.99159,-6.17197 -0.64877,-9.1895 -1.17403,-8.74147 0.0541,-17.5881 2.15945,-26.09032 1.71691,-7.628 3.77634,-15.321932 3.35633,-23.214722 0.0575,-3.88964 -0.4844,-7.76169 -1.55972,-11.49803 -11.13063,10e-4 -22.26381,-0.20176 -33.39249,-0.006 -3.13134,0.6854 -1.79206,5.85916 -2.77153,8.36749 -0.64598,6.48994 0.35456,13.01892 1.69051,19.356762 1.68957,7.85771 4.30997,15.65091 4.02384,23.78878 0.003,5.02508 0.33846,10.22147 -1.6004,14.98191 -1.95654,4.00201 3.36583,4.39966 5.9732,4.82084 5.92459,0.84595 11.94844,0.33825 17.89799,0.0477 1.64823,-0.31356 3.35548,-0.61359 4.87159,-1.36514 z"
      />
      <path 
        id="fill"
        fill="url(#fill-gradient)"
        style="stroke-width:0.264583"
        d="m 88.160152,146.38136 c 2.54692,-2.42199 -0.99159,-6.17197 -0.64877,-9.1895 -1.17403,-8.74147 0.0541,-17.5881 2.15945,-26.09032 1.71691,-7.628 3.77634,-15.321932 3.35633,-23.214722 0.0575,-3.88964 -0.4844,-7.76169 -1.55972,-11.49803 -11.13063,10e-4 -22.26381,-0.20176 -33.39249,-0.006 -3.13134,0.6854 -1.79206,5.85916 -2.77153,8.36749 -0.64598,6.48994 0.35456,13.01892 1.69051,19.356762 1.68957,7.85771 4.30997,15.65091 4.02384,23.78878 0.003,5.02508 0.33846,10.22147 -1.6004,14.98191 -1.95654,4.00201 3.36583,4.39966 5.9732,4.82084 5.92459,0.84595 11.94844,0.33825 17.89799,0.0477 1.64823,-0.31356 3.35548,-0.61359 4.87159,-1.36514 z"
        clip-path="url(#clipPath)"
      />
      <path 
        id="highlights" 
        style="fill:#ffffff;stroke-width:0.264583"
        d="m 75.883692,91.314648 c -1.33859,0.77555 1.30588,0.69133 0,0 z m -3.56637,1.22368 c -0.70083,3.02187 2.85063,-0.36708 0,0 z m 2.65861,4.51585 c -1.59553,0.31033 1.01812,1.81538 0,0 z m 0.71223,2.72423 c -0.315,2.686372 2.76583,-0.67575 0,0 z m -0.9951,0.543462 c -1.00682,-2.672032 -2.95517,2.33208 -0.11619,0.59754 z m 2.11667,1.88039 c -1.95535,1.27514 1.87711,1.19526 0,0 z m -3.27898,1.5875 c -1.98089,1.13033 1.56657,1.23122 0,0 z m 1.46151,1.16923 c -0.68764,2.04697 1.92795,0.10865 0,0 z m 0.077,3.34582 c -0.84806,1.82581 1.76686,-0.27639 0,0 z m 1.91912,9.94654 c 0.38633,2.33704 1.67889,-0.73684 0,0 z m -3.87101,0.33296 c -0.55266,2.47263 3.03656,0.82873 0.87928,-0.46948 -0.37421,-0.0823 -0.71962,0.15611 -0.87928,0.46948 z m 1.96718,4.88235 c -0.97263,1.53245 1.77536,-0.15486 0,0 z m 1.62904,4.98443 c -2.06362,-1.00754 -0.17995,2.88764 0.25879,0.42845 z m -2.40917,4.10069 c 0.89966,0.84496 -0.18589,-1.93012 0,0 z m 0.12403,2.72339 c -1.06478,0.97423 1.03502,1.01507 0,0 z m -6.48229,6.62694 c -2.85697,-0.40587 -5.74395,-2.42724 -4.97601,-5.69508 0.0863,-7.4715 0.10589,-15.01988 -1.57684,-22.34336 -1.49402,-7.22378 -4.28151,-14.266312 -4.14061,-21.751242 -0.0182,-1.84012 -0.014,-3.6804 -0.0221,-5.52059 h 5.29792 c -1.26268,6.93162 -0.89762,14.126072 0.99156,20.912912 1.23507,4.2675 2.111,8.62314 2.8058,13.00403 0.97463,-0.44777 0.0648,-4.59851 0.0815,-6.36753 -0.62382,-6.41926 -2.55133,-12.68533 -2.34405,-19.187482 0.0131,-2.74783 0.3495,-5.56317 1.29371,-8.14351 1.6852,-1.01709 1.65992,0.6152 1.53405,1.84284 0.0746,3.52667 -0.19981,7.09149 0.3399,10.58377 1.03659,-1.07033 0.4171,-4.9435 0.8143,-7.05922 0.47611,-1.58283 -0.12392,-5.10935 1.66611,-5.45962 5.13692,0.0358 10.30104,-0.31232 15.41568,0.1474 0.69486,4.64466 0.0394,9.56136 0.74561,14.112382 0.98014,-4.715322 1.33239,-9.582332 1.25601,-14.408282 1.36701,0.0515 2.73403,0.10307 4.10104,0.1546 0.49028,7.2269 -0.91747,14.401252 -2.91556,21.314442 -2.52811,8.8703 -3.27898,18.16263 -2.82548,27.35223 0.71126,3.52098 -1.82547,6.27439 -5.26448,6.53859 -3.58836,0.67096 -7.33232,0.56577 -10.95513,0.22495 -0.42458,-0.15435 -0.87305,-0.2323 -1.32291,-0.25223 z m -1.98438,2.5094 c 6.13292,0.56536 12.2924,0.31239 18.40556,-0.34553 -2.39646,1.2356 -5.74869,1.36016 -8.59007,1.67389 -3.84006,0.22414 -7.8129,-0.11133 -11.45178,-1.31198 0.5297,-0.14307 1.0971,-0.014 1.63629,-0.0164 z m 22.22501,1.98644 c 2.54692,-2.42199 -0.58878,-6.22232 -0.24596,-9.23985 -1.17403,-8.74147 0.15481,-17.5881 2.26016,-26.09032 1.71691,-7.628 3.72599,-15.372282 3.30598,-23.265072 0.0575,-3.88964 -0.88722,-8.26521 -1.96254,-12.00155 -11.13063,0.001 -22.41487,-3.6e-4 -33.54355,0.1954 -3.131337,0.6854 -2.094169,6.26198 -3.073639,8.77031 -0.64598,6.48994 0.253855,13.16998 1.589805,19.507822 1.689574,7.85771 4.309974,15.60055 4.023844,23.73842 0.003,5.02508 0.38881,10.12077 -1.55005,14.88121 -1.95654,4.00201 3.819,4.90318 6.42637,5.32436 5.92459,0.84595 11.94844,0.48931 17.89799,0.19876 1.64823,-0.31356 3.859,-1.06676 5.37511,-1.81831 z"
      />
      <path  
        id="outline" 
        style="fill:#000000;stroke-width:0.264583"
        d="m 88.134662,146.31769 c 2.54692,-2.42199 -0.99159,-6.17197 -0.64877,-9.1895 -1.17403,-8.74147 0.0541,-17.58809 2.15945,-26.09031 1.71691,-7.62801 3.77634,-15.321932 3.35633,-23.214722 0.0575,-3.88964 -0.4844,-7.7617 -1.55972,-11.49803 -11.13063,10e-4 -22.26381,-0.20177 -33.39249,-0.006 -3.131339,0.68539 -1.792059,5.85915 -2.771529,8.36748 -0.64598,6.48995 0.35456,13.01892 1.69051,19.356762 1.689569,7.85771 4.309969,15.65091 4.023839,23.78878 0.003,5.02508 0.33846,10.22147 -1.6004,14.98191 -1.95654,4.00201 3.36583,4.39966 5.9732,4.82084 5.92459,0.84595 11.94844,0.33825 17.89799,0.0477 1.64823,-0.31356 3.35548,-0.61359 4.87159,-1.36514 z m -30.69168,-1.09138 c 0.44054,-3.38304 2.00905,-6.54191 2.04708,-10.00457 0.62251,-7.00364 -0.002,-14.11666 -1.60236,-20.95094 -2.331319,-9.12572 -4.638099,-18.442922 -4.047989,-27.943032 -0.0514,-3.80405 0.69299,-7.55405 1.73842,-11.19326 3.524189,-0.66508 7.236089,-0.27404 10.835369,-0.42961 8.67418,0.003 17.35831,-0.19143 26.02613,0.13084 1.5075,4.10171 1.74866,8.58392 2.12296,12.91502 0.30003,10.01029 -2.80048,19.631552 -4.74765,29.340222 -1.51722,7.65441 -2.0262,15.69878 -0.20726,23.33941 0.7108,2.26916 2.4091,5.57485 -0.42292,7.11367 -3.31831,2.00017 -7.34912,2.29953 -11.12752,2.62259 -6.43693,0.10583 -13.37969,0.48682 -19.18994,-2.76212 -0.72734,-0.4944 -1.43261,-1.23963 -1.42432,-2.17822 z"
      />
      <path 
        id="shadow"
        style="fill:#000000;stroke-width:0.264583"
        d="m 66.003812,144.45294 c 6.13292,0.56536 12.2924,0.31239 18.40556,-0.34553 -2.39646,1.2356 -5.74869,1.36016 -8.59007,1.67389 -3.84006,0.22414 -7.8129,-0.11133 -11.45178,-1.31198 0.5297,-0.14307 1.0971,-0.014 1.63629,-0.0164 z"
      />
    </g>
  </svg>
</template>

<style scoped lang="scss">
  #pint {
    --color-fill: #180000;
    --color-fill-top: #050102;
    --color-fill-bottom: #090406;

    #clipPath {
      transform: scaleY(v-bind(clipScale));
      transition: transform 0.5s ease-in-out;
      transform-origin: top;
    }
  }
</style>